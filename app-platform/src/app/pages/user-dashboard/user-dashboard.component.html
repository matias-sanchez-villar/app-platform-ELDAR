<div class="p-3">
  <h1>Bienvenido al Dashboard de Usuario</h1>
  <p>Aquí puedes ver tus datos y otra información relevante.</p>

  <div class="d-flex p-1">
    <div class="p-1">
      <input
        type="text"
        pInputText
        placeholder="Buscar por nombre o email"
        [(ngModel)]="searchTerm"
        (ngModelChange)="onSearchChange()"
      />
    </div>
    <div class="p-1">
      <p-dropdown
        [options]="roles"
        [(ngModel)]="selectedRole"
        optionLabel="name"
        optionValue="code"
        placeholder="Seleccionar Rol"
        (onChange)="onRoleChange()"
      >
      </p-dropdown>
    </div>
  </div>

  <p-table [value]="paginatedUsers" class="p-1">
    <ng-template pTemplate="header">
      <tr>
        <th pSortableColumn="id">ID <p-sortIcon field="id" /></th>
        <th pSortableColumn="name">Nombre <p-sortIcon field="name" /></th>
        <th pSortableColumn="email">Email <p-sortIcon field="email" /></th>
        <th pSortableColumn="role">Rol <p-sortIcon field="role" /></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-user>
      <tr>
        <td>{{ user.id }}</td>
        <td>{{ user.name }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.role }}</td>
      </tr>
    </ng-template>
  </p-table>

  <p-paginator
    [rows]="rowsPerPage"
    [totalRecords]="totalRecords"
    (onPageChange)="onPageChange($event)"
  >
  </p-paginator>
</div>
